---
- hosts: all

  name: manage the dotfiles 

  tasks:
      # - include: vim.yml

      - name: oh-my-zsh
        git: repo=https://github.com/robbyrussell/oh-my-zsh.git dest={{HOME}}/.oh-my-zsh update=no

      - name: railz-dotfiles
        git: repo=https://github.com/rail/dotfiles.git dest={{DOTFILES}} update=no

      - name: symlinks
        file: src={{DOTFILES}}/{{item.src}} dest={{HOME}}/{{item.dest}} state=link
        with_items:
            #- {src: aliases, dest: .aliases}
            #- {src: xmodmap, dest: .xmodmap}
            #- {src: i3_config, dest: .i3/config}
            #- {src: i3status.conf, dest: .i3status.conf}
            #- {src: zshrc, dest: .zshrc}
            #- {src: update_displays, dest: bin/update_displays}
            #- {src: open_in_bugzilla.sh, dest: bin/open_in_bugzilla.sh}
            #- {src: firefox, dest: bin/firefox}
            #- {src: firefox-moz, dest: bin/firefox-moz}
            #- {src: git-mkpatch, dest: bin/git-mkpatch}
            #- {src: hgrc, dest: .hgrc}
            #- {src: tmux_attach, dest: bin/tmux_attach}
            - {src: .archivemail.yaml, dest: .archivemail.yaml}
            - {src: .gitconfig, dest: .gitconfig}
            - {src: .gitglobalignore, dest: .gitglobalignore}
            - {src: .offlineimaprc, dest: .offlineimaprc}
            - {src: .tmux.conf, dest: .tmux.conf}
            - {src: .zshrc, dest: .zshrc}
            - {src: .zshrc-railz, dest: .zshrc-railz}
            - {src: .ssh/config, dest: .ssh/config}

#- include: mozilla.yml
