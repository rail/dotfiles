[ui]
editor = ~/.hgext/hgeditor
username = Rail Aliiev <rail@mozilla.com>
#merge = meld
merge = internal:merge

[diff]
git = 1
showfunc = 1
nodates = 1
unified = 8

[export]
git = 1
showfunc = 1

###[defaults]
[alias]
#diff = diff -p -U 8
qdiff = qdiff -p -U 8
#qnew = -e
#qrefresh = -e
apply = import --no-commit -f
paste = paste --dest diff.pastebin.mozilla.org --user rail

urls = !$HG log --template='{node|short} {desc|firstline}\n' $(echo $HG_ARGS | sed 's/urls //g') | perl -lpe 'BEGIN { ($url = shift) =~ s/^\w+/http/ }; s!^(?=\w+)!$url/rev/!' `hg path default | sed 's,/$,,'`
last = !$HG urls -l1
# git diff master...branch == hg diff -r "ancestor(default, mock)" -r mock 
stripo = strip --no-backup 'outgoing()'
wip = log --graph --rev=wip --template=wip

[extensions]
parentrevspec = 
color = 
pager = 
hgext.hgk = 
rebase = 
hgext.graphlog = 
hgext.mq = 
hgext.purge = 
progress = 
# paste = /home/rail/.hg.d/hg-paste/paste.py
hgext.convert = 
transplant = 
hgext.bookmarks = 
share = 
#hgext.extdiff =
#qimportbz = ~/.hg.d/qimportbz
#prompt = ~/.hg.d/hg-prompt/prompt.py
#noopmerge = ~/.hg.d/branch-l10n/merge_l10n.py
#collapse = ~/.hgext/collapse.py
#inotify =
#hgext.git =
#mozext = /home/rail/work/mozilla/build/hgext-gecko-dev
bundleclone = ~/.mozbuild/version-control-tools/hgext/bundleclone
# reviewboard = ~/.hg.d/version-control-tools/hgext/reviewboard/client.py
histedit = 
# firefoxtree = ~/.mozbuild/version-control-tools/hgext/firefoxtree
# push-to-try = ~/.mozbuild/version-control-tools/hgext/push-to-try

[mozext]
ircnick = rail


[pager]
pager = LESS='FSRX' less
attend = log, help, diff, grep, glog, qdiff


[hooks]
# Prevent "hg pull" if MQ patches are applied.
prechangegroup.mq-no-pull = ! hg qtop > /dev/null 2>&1
# Prevent "hg push" if MQ patches are applied.
preoutgoing.mq-no-push = ! hg qtop > /dev/null 2>&1

#changegroup=hg diff --stat -r $HG_NODE -r tip

#[merge-tools]
#vimdiff.executable = vim
#vimdiff.args = -d $base $local $output $other +close +close

[mq]
secret = True

[mozilla]
ircnick = rail

[paths]
# For HTTP pushing
review = https://reviewboard-hg.mozilla.org/autoreview
[revsetalias]
wip = (parents(not public()) or not public() or . or (head() and branch(default))) and (not obsolete() or unstable()^) and not closed()
[templates]
wip = '{label("log.branch", branches)} {label("changeset.{phase}", rev)}{label("changeset.{phase}", ":")}{label("changeset.{phase}", short(node))} {label("grep.user", author|user)}{label("log.tag", if(tags," {tags}"))} {label("log.bookmark", if(bookmarks," {bookmarks}"))}\n{label(ifcontains(rev, revset("."), "desc.here"),desc|firstline)}'

# For SSH pushing
# review = ssh://reviewboard-hg.mozilla.org/autoreview

# %include ~/.hgsecrets
