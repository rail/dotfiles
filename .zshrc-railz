#setopt auto_list
#setopt no_flow_control
#setopt magic_equal_subst
#setopt nonomatch
#setopt correct
#setopt nocorrectall

setopt print_exit_value
unsetopt share_history

eval `dircolors`
autoload -U colors
colors

FIGNORE=".o:~"
# Only ask if completion listing would scroll off screen
LISTMAX=0
# Check for logins/logouts every 5 minutes
LOGCHECK=300
MAILCHECK=0
# Give timing statistics for programs that take longer than a minute to
# run.
REPORTTIME=60

alias scp="scp -rC"
alias tmux="tmux -2"
#
# make less more friendly for non-text input files, see lesspipe(1)
[ -x /usr/bin/lesspipe ] && eval "$(lesspipe)"

zstyle :omz:plugins:ssh-agent agent-forwarding on

# dont pipe into existing files, need >!
setopt NOCLOBBER
alias mutt="TERM=screen-256color mutt"
alias weechat-curses="TERM=screen-256color weechat-curses"

if [ -n "$DISPLAY" -a "$TERM" = "xterm" ]; then
    export TERM=xterm-256color
fi

case "${TERM}" in
    screen*)
        #export TERM=screen.xterm-xfree86
        export TERM=screen-256color
    ;;
esac
export PYTHONDONTWRITEBYTECODE=1
export BROWSER=firefox
export ANSIBLE_HOST_KEY_CHECKING=False

# EDITOR is ised by hg
export EDITOR=vim

function wp() {
    cd ~/work/mozilla/git/$1;
}
_wp() {
    _files -W ~/work/mozilla/git/
}
compdef _wp wp

# killall
zstyle ':completion:*:*:killall:*' menu yes select
zstyle ':completion:*:killall:*' force-list always
zstyle ':completion:*:killall:*' command 'ps -u $USER -o pid,%cpu,tty,cputime,cmd'
zstyle ':completion:*:killall:*' insert-ids single
zstyle ':completion:*:*:killall:*' menu yes select
zstyle ':completion:*:killall:*' force-list always
zstyle ':completion:*:processes' command 'ps -ax -o pid,%cpu,tty,cputime,cmd'
zstyle ':completion:*:processes-names' command 'ps xaho command'

setopt no_nomatch # when pattern matching fails, simply use the command as is
# expire ssh-agent
zstyle :omz:plugins:ssh-agent lifetime 4h

export R=~/work/mozilla/build
source /usr/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
zstyle ':vcs_info:*' enable git
